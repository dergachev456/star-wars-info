(this["webpackJsonpstar-wars-info"]=this["webpackJsonpstar-wars-info"]||[]).push([[0],{34:function(e,t,a){e.exports=a(55)},44:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),s=a.n(c),i=a(2),l=a(3),o=a(5),u=a(4),p=a(6),m=a(9),d=a(24),h=a.n(d),f=a(30),b=a(13),y=a(16);a(44);function E(){return r.a.createElement("header",null,r.a.createElement(b.b,{to:"/",className:"header__logo"},"Star Wars info"))}a(46);function v(e){var t=e.setSelectedEntity,a=e.entities;return r.a.createElement("div",{className:"entities-list"},a.map((function(e,a){return r.a.createElement("div",{onClick:function(){return t(e)},key:e+a,className:"entities-list__entity"},r.a.createElement("button",{className:"entities-list__entity-title"},e))})))}var O=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.setSelectedEntity,a=e.data;return r.a.createElement(v,{setSelectedEntity:t,entities:Object.keys(a)})}}]),t}(n.Component),g=Object(m.b)((function(e){return{data:e.data}}),{setSelectedEntity:function(e){return{type:"SET_SELECTED_ENTITY",payload:e}}})(O),j=(a(47),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onChangeSearchText=function(e){a.props.setSearchText(e.target.value)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.selectedEntity,a=e.searchText,n=e.getId,c=e.data,s=e.switchSortOrder,i=e.sortOrderToHeight;return r.a.createElement("div",{className:"entity"},r.a.createElement("div",{onClick:s,className:"entity__title-container"},r.a.createElement("h1",{className:"entity__title"},t),i?r.a.createElement("span",{className:"entity__arrow"},"\u2193"):r.a.createElement("span",{className:"entity__arrow"},"\u2191")),r.a.createElement("input",{placeholder:"search..",className:"entity__input",value:a,onChange:this.onChangeSearchText,type:"search"}),r.a.createElement("div",{className:"entity__cards"},c.map((function(e){return r.a.createElement("div",{key:n(e.url),className:"entity__card"},r.a.createElement(b.b,{className:"entity__link",to:"/".concat(t,"/").concat(n(e.url))},e.name||e.title),r.a.createElement("h2",{className:"entity__details"},"details \u2192"))}))))}}]),t}(n.Component)),_=a(33),k=function(e){var t=e.split("/");return t[t.length-2]},T=function(e){var t=e.split("/");return t[t.length-3]},S=function(e,t,a){var n=Object(_.a)(e);return!1===a?n.sort((function(e,a){return e[t]<a[t]?1:-1})):n.sort((function(e,a){return e[t]>a[t]?1:-1})),n},w=function(e,t,a){return e.filter((function(e){return e[t].toLowerCase().includes(a.toLowerCase())}))},N=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.setSearchText,a=e.data,n=e.switchSortOrder,c=this.props.main,s=c.searchText,i=c.selectedEntity,l=c.sortOrderToHeight;return r.a.createElement(j,{data:a,getId:k,selectedEntity:i,switchSortOrder:n,sortOrderToHeight:l,setSearchText:t,searchText:s})}}]),t}(n.Component),x=Object(m.b)((function(e){return{main:e.main}}),{setSearchText:function(e){return{type:"SET_SEARCH_TEXT",payload:e}},switchSortOrder:function(){return{type:"SWITCH_SORT_ORDER"}}})(N);function C(e){var t=e.data;return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement(x,{data:t}))}var D=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t,a=this.props.main,n=a.selectedEntity,c=a.searchText,s=a.sortOrderToHeight,i=this.props.data[n];return"films"===n?(e=S(i,"title",s),t=w(e,"title",c)):(e=S(i,"name",s),t=w(e,"name",c)),r.a.createElement(C,{data:t})}}]),t}(n.Component),A=Object(m.b)((function(e){return{data:e.data,main:e.main}}))(D);a(48);function H(){return r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}var L=function(e){return function(t){return function(a){function n(){return Object(i.a)(this,n),Object(o.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(p.a)(n,a),Object(l.a)(n,[{key:"render",value:function(){return null===(a=this.props[e])||void 0===a||a.hasOwnProperty("length")&&0===a.length||a.constructor===Object&&0===Object.keys(a).length?r.a.createElement(H,null):r.a.createElement(t,this.props);var a}}]),n}(n.Component)}},R=(a(49),function(){return r.a.createElement("div",{className:"error"},"404",r.a.createElement("br",null),"Page not found")}),M=(a(50),a(51),function(e){var t=e.fieldsToRender,a=e.getLinks,n=e.entity;return r.a.createElement("div",{className:"single-entity"},Object.keys(t).map((function(e){return"name"===e?r.a.createElement("h1",{key:Math.random(),className:"single-entity__main-title"},n[t[e]]):Array.isArray(n[e])?r.a.createElement("div",{key:Math.random()},n[t[e]].length>0&&r.a.createElement("h2",{key:Math.random(),className:"single-entity__title"},"".concat(e,":")),r.a.createElement("div",{key:Math.random(),className:"single-entity__container"},a(n[t[e]]))):r.a.createElement("h2",{key:Math.random(),className:"single-entity__title"},"".concat(e,": ").concat(n[t[e]]))})))}),I={films:{name:"title",director:"director",producer:"producer",episode:"episode_id",date:"release_date",characters:"characters",planets:"planets",vehicles:"vehicles",starships:"starships",species:"species"},people:{name:"name",height:"height",mass:"mass",gender:"gender","hair color":"hair_color","skin color":"skin_color","eye color":"eye color","birth year":"birth year",films:"films",vehicles:"vehicles",starships:"starships",species:"species"},planets:{name:"name",diameter:"diameter",climate:"climate",population:"population",residents:"residents",films:"films"},species:{name:"name",classification:"classification",designation:"designation",language:"language",people:"people",films:"films"},starships:{name:"name",model:"model",manufacturer:"manufacturer",length:"length",passengers:"passengers","starship class":"starship_class",pilots:"pilots",films:"films"},vehicles:{name:"name",model:"model",manufacturer:"manufacturer",passengers:"passengers","max atmosphering speed":"max_atmosphering_speed",consumables:"consumables",pilots:"pilots",films:"films"}},J=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).getLinks=function(e){var t=a.props.data;return e.map((function(e){var a=T(e),n=k(e),c=t[a].find((function(e){return k(e.url)===n}));return void 0!==c.title?r.a.createElement(b.b,{className:"single-entity__link",key:c.url+Math.random(),to:"/".concat(a,"/").concat(n)},c.title):r.a.createElement(b.b,{className:"single-entity__link",key:c.url+Math.random(),to:"/".concat(a,"/").concat(n)},c.name)}))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"componentDidUpdate",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e=this.props.data,t=this.props.match.params,a=t.entity,n=t.id,c=null;return void 0!==e[a]&&(c=e[a].find((function(e){return k(e.url)===n}))),r.a.createElement(r.a.Fragment,null,c&&r.a.createElement(M,{fieldsToRender:I[a],getLinks:this.getLinks,entity:e[a].find((function(e){return k(e.url)===n}))}),(void 0===c||null===c)&&r.a.createElement(R,null))}}]),t}(n.Component),W=Object(m.b)((function(e){return{data:e.data}}))(J),P=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,null,r.a.createElement(E,null),r.a.createElement(y.c,null,r.a.createElement(y.a,{exact:!0,path:"/",component:A}),r.a.createElement(y.a,{exact:!0,path:"/:entity/:id",component:W}),r.a.createElement(y.a,{component:R})))}}]),t}(n.Component),X=L("data")(P),Y=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){null===JSON.parse(localStorage.getItem("swapi"))&&this.props.loadData()}},{key:"render",value:function(){return r.a.createElement(X,{data:this.props.data})}}]),t}(n.Component),B=Object(m.b)((function(e){return{data:e.data}}),{loadData:function(){return function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,r,c,s,i,l,o,u,p,m,d,f,b;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=[],r=[],c=[],s=[],i=[],l=0,o=["people","films","vehicles","planets","starships","species"];case 8:if(!(l<o.length)){e.next=41;break}u=o[l],p=!0,m=1;case 12:return e.next=14,fetch("https://swapi.dev/api/".concat(u,"/?page=").concat(m));case 14:return d=e.sent,e.next=17,d.json();case 17:f=e.sent,b=f.results,e.t0=u,e.next="films"===e.t0?22:"people"===e.t0?24:"vehicles"===e.t0?26:"planets"===e.t0?28:"starships"===e.t0?30:"species"===e.t0?32:34;break;case 22:return n=n.concat(b),e.abrupt("break",35);case 24:return a=a.concat(b),e.abrupt("break",35);case 26:return r=r.concat(b),e.abrupt("break",35);case 28:return c=c.concat(b),e.abrupt("break",35);case 30:return s=s.concat(b),e.abrupt("break",35);case 32:return i=i.concat(b),e.abrupt("break",35);case 34:return e.abrupt("break",35);case 35:null===f.next&&(p=!1),m++;case 37:if(p){e.next=12;break}case 38:l++,e.next=8;break;case 41:t({type:"LOAD_DATA",payload:{people:a,films:n,vehicles:r,planets:c,starships:s,species:i}});case 42:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Y),F=a(15),U=a(17),q=a(21),z=Object(q.load)({namespace:"swapi"});z&&z.data||(z={data:{}});var G={selectedEntity:"films",searchText:"",sortOrderToHeight:!0},K=Object(F.c)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z.data,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_DATA":return Object(U.a)({},e,{films:t.payload.films,people:t.payload.people,vehicles:t.payload.vehicles,starships:t.payload.starships,species:t.payload.species,planets:t.payload.planets});default:return e}},main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELECTED_ENTITY":return Object(U.a)({},e,{selectedEntity:t.payload});case"SET_SEARCH_TEXT":return Object(U.a)({},e,{searchText:t.payload});case"SWITCH_SORT_ORDER":return Object(U.a)({},e,{sortOrderToHeight:!e.sortOrderToHeight});default:return e}}}),Q=a(32),V=[Object(q.save)({namespace:"swapi"}),Q.a],Z=Object(F.e)(K,Object(F.d)(F.a.apply(void 0,V)));s.a.render(r.a.createElement(m.a,{store:Z},r.a.createElement(B,null)),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.1556fe0d.chunk.js.map